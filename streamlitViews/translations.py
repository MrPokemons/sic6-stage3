"""
Language translations for PawPal Streamlit application.
Default language: English
"""

TRANSLATIONS = {
    # Common
    "common": {
        "device_id": {
            "id": "No. ID Perangkat",
            "en": "Device ID No."
        },
        "search_last_conversation": {
            "id": "Cari percakapan terakhir",
            "en": "Search last conversation"
        },
        "search_current_conversation": {
            "id": "Cari percakapan saat ini",
            "en": "Search current conversation"
        },
        "start_conversation": {
            "id": "Mulai Percakapan",
            "en": "Start Conversation"
        },
        "save": {
            "id": "Simpan",
            "en": "Save"
        },
    },

    # Months
    "months": {
        "id": {
            1: "Januari", 2: "Februari", 3: "Maret", 4: "April",
            5: "Mei", 6: "Juni", 7: "Juli", 8: "Agustus",
            9: "September", 10: "Oktober", 11: "November", 12: "Desember",
        },
        "en": {
            1: "January", 2: "February", 3: "March", 4: "April",
            5: "May", 6: "June", 7: "July", 8: "August",
            9: "September", 10: "October", 11: "November", 12: "December",
        }
    },

    # Emotions
    "emotions": {
        "Happy": {"id": "ğŸ˜„ Bahagia", "en": "ğŸ˜„ Happy"},
        "Sad": {"id": "ğŸ˜¢ Sedih", "en": "ğŸ˜¢ Sad"},
        "Angry": {"id": "ğŸ˜  Marah", "en": "ğŸ˜  Angry"},
        "Afraid": {"id": "ğŸ˜¨ Takut", "en": "ğŸ˜¨ Afraid"},
        "Embarrassed": {"id": "", "en": ""},
        "Loving": {"id": "ğŸ˜ Sayang", "en": "ğŸ˜ Loving"},
        "Confused": {"id": "ğŸ˜• Bingung", "en": "ğŸ˜• Confused"},
        "Frustrated": {"id": "ğŸ˜£ Frustrasi", "en": "ğŸ˜£ Frustrated"},
        "Confident": {"id": "ğŸ˜ Percaya Diri", "en": "ğŸ˜ Confident"},
        "Proud": {"id": "ğŸ˜‡ Bangga", "en": "ğŸ˜‡ Proud"},
        "Jealous": {"id": "ğŸ˜¤ Cemburu", "en": "ğŸ˜¤ Jealous"},
        "Relieved": {"id": "ğŸ˜Œ Lega", "en": "ğŸ˜Œ Relieved"},
        "Tired": {"id": "ğŸ˜« Lelah", "en": "ğŸ˜« Tired"},
        "Excited": {"id": "ğŸ¤— Semangat", "en": "ğŸ¤— Excited"},
        "Nervous": {"id": "ğŸ˜¬ Gugup", "en": "ğŸ˜¬ Nervous"},
        "Disappointed": {"id": "ğŸ¥º Kecewa", "en": "ğŸ¥º Disappointed"},
        "Amazed": {"id": "ğŸ¤© Kagum", "en": "ğŸ¤© Amazed"},
        "Bored": {"id": "ğŸ˜ Bosan", "en": "ğŸ˜ Bored"},
        "Doubtful": {"id": "ğŸ«¤ Ragu", "en": "ğŸ«¤ Doubtful"},
    },

    # Answer categories
    "answer_categories": {
        "correct": {"id": "Benar", "en": "Correct"},
        "wrong": {"id": "Salah", "en": "Wrong"},
        "no_answer": {"id": "Tidak Menjawab", "en": "No Answer"},
    },

    # Tentang (About) page
    "tentang": {
        "title": {
            "id": "ğŸ¾ Tentang PawPal",
            "en": "ğŸ¾ About PawPal"
        },
        "subtitle": {
            "id": "Playful Adaptive IoT and AI Learning Companion",
            "en": "Playful Adaptive IoT and AI Learning Companion"
        },
        "description": {
            "id": "PawPal adalah boneka pintar interaktif berbasis IoT dan AI yang dirancang untuk mengurangi screen time dan mendorong interaksi bermakna bagi anak-anak. Menggunakan teknologi speech-to-text, natural language understanding, dan text-to-speech, PawPal berkomunikasi secara alami dalam Bahasa Indonesia. Dengan fitur pembelajaran adaptif, percakapan interaktif, dan permainan edukatif, PawPal mendukung perkembangan kognitif dan emosional anak melalui pengalaman bermain sambil belajar yang aman dan menyenangkan. Semua interaksi diproses melalui server cloud yang andal dan aman.",
            "en": "PawPal is an interactive smart toy based on IoT and AI designed to reduce screen time and encourage meaningful interactions for children. Using speech-to-text, natural language understanding, and text-to-speech technology, PawPal communicates naturally in Indonesian. With adaptive learning features, interactive conversations, and educational games, PawPal supports children's cognitive and emotional development through safe and enjoyable learning-through-play experiences. All interactions are processed through a reliable and secure cloud server."
        },
        "main_features": {
            "id": "ğŸŒŸ Fitur Utama",
            "en": "ğŸŒŸ Main Features"
        },
        "talk_to_me_desc": {
            "id": "Percakapan natural yang membantu anak mengekspresikan diri dan mengembangkan keterampilan sosial-emosional.",
            "en": "Natural conversations that help children express themselves and develop social-emotional skills."
        },
        "math_adventures_desc": {
            "id": "Permainan pemecahan masalah interaktif yang membangun konsep dasar matematika melalui cerita yang seru.",
            "en": "Interactive problem-solving games that build basic math concepts through engaging stories."
        },
        "guess_the_sound_desc": {
            "id": "Permainan edukatif yang dirancang untuk membantu anak-anak melatih kemampuan mendengar dan mengenali suara.",
            "en": "Educational games designed to help children practice listening and sound recognition skills."
        },
        "would_you_rather_desc": {
            "id": "Pertanyaan ringan dan imajinatif yang mendorong pemikiran kritis dan kreativitas anak.",
            "en": "Light and imaginative questions that encourage children's critical thinking and creativity."
        },
        "target_users": {
            "id": "ğŸ¯ Pengguna PawPal",
            "en": "ğŸ¯ PawPal Users"
        },
        "target_users_desc": {
            "id": "PawPal dirancang khusus untuk anak usia 4 hingga 8 tahun, dengan aktivitas yang sesuai usia untuk mendukung pembelajaran dan interaksi yang menyenangkan tanpa layar.",
            "en": "PawPal is specifically designed for children aged 4 to 8 years old, with age-appropriate activities to support learning and fun interactions without screens."
        },
        "duration_function": {
            "id": 'ğŸ“¥ Apa fungsi input "Durasi"?',
            "en": 'ğŸ“¥ What is the "Duration" input for?'
        },
        "duration_desc1": {
            "id": "Durasi menentukan total waktu bermain anak bersama PawPal.",
            "en": "Duration determines the total play time for children with PawPal."
        },
        "duration_desc2": {
            "id": "Misalnya, jika Anda mengatur durasi 30 menit, maka PawPal akan berinteraksi selama total 30 menit, terbagi dalam sesi yang Anda tentukan.",
            "en": "For example, if you set a duration of 30 minutes, PawPal will interact for a total of 30 minutes, divided into the sessions you specify."
        },
        "session_function": {
            "id": 'ğŸ§© Apa fungsi input "Sesi"?',
            "en": 'ğŸ§© What is the "Session" input for?'
        },
        "session_desc1": {
            "id": "Sesi menentukan berapa jenis aktivitas berbeda yang akan dimainkan PawPal dalam satu periode.",
            "en": "Sessions determine how many different types of activities PawPal will play in one period."
        },
        "session_desc2": {
            "id": "Contoh, jika Anda memasukkan 2 sesi, maka PawPal bisa menjalankan:<br>ğŸ“Œ 10 menit bermain \"Talk to Me\"<br>ğŸ“Œ 7 pertanyaan untuk bermain \"Math Adventures\"",
            "en": "For example, if you enter 2 sessions, PawPal can run:<br>ğŸ“Œ 10 minutes of playing \"Talk to Me\"<br>ğŸ“Œ 7 questions for playing \"Math Adventures\""
        },
        "session_desc3": {
            "id": "Ini memberikan variasi agar anak tidak bosan dan tetap belajar secara menyenangkan.",
            "en": "This provides variety so children don't get bored and continue learning in a fun way."
        },
        "customizable": {
            "id": "ğŸ’¬ Apakah bisa dikustom sesuai kebutuhan anak?",
            "en": "ğŸ’¬ Can it be customized according to the child's needs?"
        },
        "customizable_desc": {
            "id": "Tentu saja! Anda bisa memilih dan mengatur kombinasi fitur berdasarkan jumlah sesi yang diinginkan, sesuai mood, kebiasaan, atau perkembangan anak Anda.",
            "en": "Of course! You can choose and configure feature combinations based on the desired number of sessions, according to your child's mood, habits, or development."
        }
    },

    # Beranda (Home/History) page
    "beranda": {
        "conversation_history": {
            "id": "Riwayat Percakapan",
            "en": "Conversation History"
        },
        "no_conversation": {
            "id": "No conversation ever recorded from the provided device id",
            "en": "No conversation ever recorded from the provided device id"
        },
        "demo_info": {
            "id": "Jika anda ingin melihat demo tampilan dan backend harus tidak berjalan, dapat menggunakan device_id `cincayla`",
            "en": "If you want to see the demo view and the backend is not running, you can use device_id `cincayla`"
        },
        "session_not_started": {
            "id": "Sesi belum dimulai",
            "en": "Session has not started"
        },
        "session": {
            "id": "Sesi",
            "en": "Session"
        },
        "date_and_time": {
            "id": "Tanggal dan Waktu",
            "en": "Date and Time"
        },
        "feeling": {
            "id": "Perasaan",
            "en": "Feeling"
        },
        "conversation_transcript": {
            "id": "Transkrip Percakapan",
            "en": "Conversation Transcript"
        },
        "summary": {
            "id": "Ringkasan",
            "en": "Summary"
        },
        "key_points": {
            "id": "Poin Utama",
            "en": "Key Points"
        },
        "math_results": {
            "id": "Hasil Menghitung",
            "en": "Math Results"
        },
        "guess_results": {
            "id": "Hasil Menebak",
            "en": "Guess Results"
        },
        "question": {
            "id": "Pertanyaan",
            "en": "Question"
        },
        "child_answer": {
            "id": "Jawaban Anak",
            "en": "Child's Answer"
        },
        "correction": {
            "id": "Koreksi",
            "en": "Correction"
        },
        "sound": {
            "id": "Suara",
            "en": "Sound"
        },
        "accuracy_percentage": {
            "id": "Persentase Akurasi",
            "en": "Accuracy Percentage"
        },
        "accuracy_per_attempt": {
            "id": "Akurasi Jawaban pada Setiap Percobaan Matematika",
            "en": "Answer Accuracy on Each Math Attempt"
        },
        "accuracy_per_sound": {
            "id": "Akurasi Jawaban pada Setiap Percobaan Menebak Suara",
            "en": "Answer Accuracy on Each Sound Guessing Attempt"
        },
        "attempt": {
            "id": "Percobaan",
            "en": "Attempt"
        },
        "category": {
            "id": "Kategori",
            "en": "Category"
        },
        "total": {
            "id": "Jumlah",
            "en": "Total"
        },
        "total_questions": {
            "id": "Jumlah Pertanyaan",
            "en": "Total Questions"
        }
    },

    # Pengaturan (Settings) page
    "pengaturan": {
        "title": {
            "id": "âš™ï¸ Pengaturan Percakapan",
            "en": "âš™ï¸ Conversation Settings"
        },
        "child_profile": {
            "id": "Biodata Anak",
            "en": "Child Profile"
        },
        "optional_info": {
            "id": "Opsional â€” nilai default akan digunakan jika tidak diisi",
            "en": "Optional â€” default values will be used if not filled"
        },
        "name": {
            "id": "ğŸ§’ Nama",
            "en": "ğŸ§’ Name"
        },
        "age": {
            "id": "ğŸ‚ Umur",
            "en": "ğŸ‚ Age"
        },
        "gender": {
            "id": "ğŸš» Jenis Kelamin",
            "en": "ğŸš» Gender"
        },
        "select_gender": {
            "id": "Pilih Jenis Kelamin",
            "en": "Select Gender"
        },
        "male": {
            "id": "Laki-laki",
            "en": "Male"
        },
        "female": {
            "id": "Perempuan",
            "en": "Female"
        },
        "description": {
            "id": "ğŸš² Deskripsi Anak (hobi dan minat, kepribadian)",
            "en": "ğŸš² Child Description (hobbies and interests, personality)"
        },
        "conversation_config": {
            "id": "Konfigurasi Percakapan",
            "en": "Conversation Configuration"
        },
        "total_sessions": {
            "id": "ğŸ—£ï¸ Jumlah Sesi",
            "en": "ğŸ—£ï¸ Total Sessions"
        },
        "interaction_type": {
            "id": "ğŸ’¬ Jenis Interaksi",
            "en": "ğŸ’¬ Interaction Type"
        },
        "duration_label": {
            "id": "â° Durasi Interaksi dalam Menit (Talk To Me, Would You Rather)",
            "en": "â° Interaction Duration in Minutes (Talk To Me, Would You Rather)"
        },
        "questions_label": {
            "id": "ğŸ™‹â€â™‚ï¸ Jumlah Pertanyaan (Math Adventure, Guess The Sound)",
            "en": "ğŸ™‹â€â™‚ï¸ Number of Questions (Math Adventure, Guess The Sound)"
        },
        "consent_text": {
            "id": "Saya, sebagai orang tua/wali dari {name}, menyetujui anak saya untuk menggunakan Pawpal. Saya memahami bahwa data suara anak akan digunakan untuk interaksi dengan PawPal dan data tersebut akan dilindungi sesuai dengan peraturan yang berlaku. Saya memberikan persetujuan ini secara sadar dan dapat dibuktikan.",
            "en": "I, as the parent/guardian of {name}, consent to my child using Pawpal. I understand that the child's voice data will be used for interaction with PawPal and this data will be protected in accordance with applicable regulations. I give this consent consciously and verifiably."
        },
        "empty_fields_info": {
            "id": "Field kosong akan diisi dengan nilai default",
            "en": "Empty fields will be filled with default values"
        },
        "device_id_required": {
            "id": "No ID perangkat harus diisi",
            "en": "Device ID must be filled"
        },
        "select_interaction": {
            "id": "Pilih setidaknya salah satu interaksi",
            "en": "Select at least one interaction"
        },
        "consent_required": {
            "id": "Mohon untuk menyetujui persetujuan penggunaan PawPal",
            "en": "Please agree to the PawPal usage consent"
        },
        "conversation_started": {
            "id": "Percakapan dimulai!",
            "en": "Conversation started!"
        },
        "ready_to_start": {
            "id": "Konfigurasi sudah sesuai? Klik tombol mulai percakapan!",
            "en": "Configuration ready? Click the start conversation button!"
        },
        "success_message": {
            "id": "Berhasil menginput konfigurasi percakapan baru!!",
            "en": "Successfully inputted new conversation configuration!!"
        },
        "backend_offline_warning": {
            "id": "Jika Backend tidak berjalan, fitur ini tidak dapat dipakai.",
            "en": "If the backend is not running, this feature cannot be used."
        },
        "backend_offline_error": {
            "id": "Backend tidak aktif, fitur ini tidak dapat digunakan, mohon untuk menyalakan servernya dengan mengikuti panduan.",
            "en": "Backend is not active, this feature cannot be used, please turn on the server by following the guide."
        }
    },

    # Percakapan (Live Conversation) page
    "percakapan": {
        "title": {
            "id": "ğŸ¤– Percakapan Saat Ini ğŸ§’",
            "en": "ğŸ¤– Current Conversation ğŸ§’"
        },
        "no_live_conversation": {
            "id": "No Live conversation ongoing in this device id",
            "en": "No Live conversation ongoing in this device id"
        },
        "session_not_started": {
            "id": "Sesi belum dimulai",
            "en": "Session has not started"
        }
    }
}


def get_text(key_path: str, lang: str = "en", **kwargs) -> str:
    """
    Get translated text by key path.

    Args:
        key_path: Dot-separated path to the translation key (e.g., "tentang.title")
        lang: Language code ("en" or "id")
        **kwargs: Format parameters for the text

    Returns:
        Translated text string
    """
    keys = key_path.split(".")
    value = TRANSLATIONS

    for key in keys:
        value = value.get(key, {})

    if isinstance(value, dict):
        text = value.get(lang, value.get("en", ""))
    else:
        text = value

    # Format text if kwargs provided
    if kwargs and isinstance(text, str):
        text = text.format(**kwargs)

    return text


def get_month(month_num: int, lang: str = "en") -> str:
    """Get translated month name."""
    return TRANSLATIONS["months"][lang].get(month_num, "")


def get_emotion(emotion: str, lang: str = "en") -> str:
    """Get translated emotion text."""
    return TRANSLATIONS["emotions"].get(emotion, {}).get(lang, "")


def get_answer_category(category: str, lang: str = "en") -> str:
    """Get translated answer category."""
    categories = {
        "Benar": "correct",
        "Salah": "wrong",
        "Tidak Menjawab": "no_answer"
    }
    key = categories.get(category, category.lower().replace(" ", "_"))
    return TRANSLATIONS["answer_categories"].get(key, {}).get(lang, category)
